{"ast":null,"code":"import { ref } from \"vue\";\nexport default {\n  props: {\n    tasks: {\n      type: Array,\n      default: () => {\n        return [];\n      }\n    }\n  },\n  setup(props) {\n    const tarefas = ref(props.tasks);\n    const viewModel = ref({\n      busca: ref(),\n      result: ref()\n    });\n    return {\n      viewModel,\n      tarefas\n    };\n  },\n  methods: {\n    buscarTempoGastoPorTarefa() {\n      let tempoTotal = 0;\n      this.tasks.forEach(item => {\n        item.data.tarefas.forEach(tarefa => {\n          if (tarefa.descricao.toLowerCase().includes(this.viewModel.busca.toLowerCase())) {\n            const tempoGastoEmMinutos = tarefa.horaFim.horas * 60 + tarefa.horaFim.minutos - (tarefa.horaInicio.horas * 60 + tarefa.horaInicio.minutos);\n            tempoTotal += tempoGastoEmMinutos;\n          }\n        });\n      });\n      const horas = Math.floor(tempoTotal / 60);\n      const minutos = tempoTotal % 60;\n      this.viewModel.result = `${horas}:${minutos}`;\n    }\n  }\n};","map":{"version":3,"names":["ref","props","tasks","type","Array","default","setup","tarefas","viewModel","busca","result","methods","buscarTempoGastoPorTarefa","tempoTotal","forEach","item","data","tarefa","descricao","toLowerCase","includes","tempoGastoEmMinutos","horaFim","horas","minutos","horaInicio","Math","floor"],"sources":["/home/alexandre/code/ponto-eletronico/src/components/FilterComponent.vue"],"sourcesContent":["<template>\n  <div class=\"container mt-3\">\n    <div class=\"row justify-content-end\">\n      <div class=\"col-md-4\">\n        <div class=\"input-group\">\n          <input\n            type=\"text\"\n            class=\"form-control\"\n            placeholder=\"Digite aqui...\"\n            v-model=\"viewModel.busca\"\n          />\n          <div class=\"input-group-append\">\n            <button\n              @click=\"buscarTempoGastoPorTarefa()\"\n              class=\"btn btn-outline-secondary\"\n              type=\"button\"\n            >\n              Buscar\n            </button>\n            {{ viewModel.result }}\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { ref } from \"vue\";\nexport default {\n  props: {\n    tasks: {\n      type: Array,\n      default: () => {\n        return [];\n      },\n    },\n  },\n  setup(props) {\n    const tarefas = ref(props.tasks)\n    const viewModel = ref({\n      busca: ref(),\n      result: ref(),\n    });\n    return {\n      viewModel,\n      tarefas,\n    };\n  },\n  methods: {\n    buscarTempoGastoPorTarefa() {\n      let tempoTotal = 0;\n\n      this.tasks.forEach((item) => {\n        item.data.tarefas.forEach((tarefa) => {\n          if (\n            tarefa.descricao\n              .toLowerCase()\n              .includes(this.viewModel.busca.toLowerCase())\n          ) {\n            const tempoGastoEmMinutos =\n              tarefa.horaFim.horas * 60 +\n              tarefa.horaFim.minutos -\n              (tarefa.horaInicio.horas * 60 + tarefa.horaInicio.minutos);\n\n            tempoTotal += tempoGastoEmMinutos;\n          }\n        });\n      });\n\n      const horas = Math.floor(tempoTotal / 60);\n      const minutos = tempoTotal % 60;\n      this.viewModel.result = `${horas}:${minutos}`;\n    },\n  },\n};\n</script>\n"],"mappings":"AA2BA,SAASA,GAAE,QAAS,KAAK;AACzB,eAAe;EACbC,KAAK,EAAE;IACLC,KAAK,EAAE;MACLC,IAAI,EAAEC,KAAK;MACXC,OAAO,EAAEA,CAAA,KAAM;QACb,OAAO,EAAE;MACX;IACF;EACF,CAAC;EACDC,KAAKA,CAACL,KAAK,EAAE;IACX,MAAMM,OAAM,GAAIP,GAAG,CAACC,KAAK,CAACC,KAAK;IAC/B,MAAMM,SAAQ,GAAIR,GAAG,CAAC;MACpBS,KAAK,EAAET,GAAG,CAAC,CAAC;MACZU,MAAM,EAAEV,GAAG,CAAC;IACd,CAAC,CAAC;IACF,OAAO;MACLQ,SAAS;MACTD;IACF,CAAC;EACH,CAAC;EACDI,OAAO,EAAE;IACPC,yBAAyBA,CAAA,EAAG;MAC1B,IAAIC,UAAS,GAAI,CAAC;MAElB,IAAI,CAACX,KAAK,CAACY,OAAO,CAAEC,IAAI,IAAK;QAC3BA,IAAI,CAACC,IAAI,CAACT,OAAO,CAACO,OAAO,CAAEG,MAAM,IAAK;UACpC,IACEA,MAAM,CAACC,SAAQ,CACZC,WAAW,CAAC,EACZC,QAAQ,CAAC,IAAI,CAACZ,SAAS,CAACC,KAAK,CAACU,WAAW,CAAC,CAAC,GAC9C;YACA,MAAME,mBAAkB,GACtBJ,MAAM,CAACK,OAAO,CAACC,KAAI,GAAI,EAAC,GACxBN,MAAM,CAACK,OAAO,CAACE,OAAM,IACpBP,MAAM,CAACQ,UAAU,CAACF,KAAI,GAAI,EAAC,GAAIN,MAAM,CAACQ,UAAU,CAACD,OAAO,CAAC;YAE5DX,UAAS,IAAKQ,mBAAmB;UACnC;QACF,CAAC,CAAC;MACJ,CAAC,CAAC;MAEF,MAAME,KAAI,GAAIG,IAAI,CAACC,KAAK,CAACd,UAAS,GAAI,EAAE,CAAC;MACzC,MAAMW,OAAM,GAAIX,UAAS,GAAI,EAAE;MAC/B,IAAI,CAACL,SAAS,CAACE,MAAK,GAAK,GAAEa,KAAM,IAAGC,OAAQ,EAAC;IAC/C;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}