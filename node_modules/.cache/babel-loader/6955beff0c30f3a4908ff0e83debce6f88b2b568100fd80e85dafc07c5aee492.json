{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { getAuth } from \"firebase/auth\";\nimport { getDatabase, get, ref, push, set } from \"firebase/database\";\nimport Swal from \"sweetalert2\";\nexport default {\n  data() {\n    return {\n      registros: []\n    };\n  },\n  methods: {\n    iniciarPonto() {\n      Swal.fire({\n        title: \"Adicione o numero da tarefa que você vai iniciar\",\n        input: \"text\",\n        inputAttributes: {\n          autocapitalize: \"off\"\n        },\n        showCancelButton: true,\n        confirmButtonText: \"Salvar\",\n        showLoaderOnConfirm: true,\n        allowOutsideClick: () => !Swal.isLoading()\n      }).then(result => {\n        if (result.isConfirmed) {\n          Swal.fire({\n            title: \"Adicione a descrição\",\n            input: \"text\",\n            inputAttributes: {\n              autocapitalize: \"off\"\n            },\n            showCancelButton: true,\n            confirmButtonText: \"Salvar\",\n            showLoaderOnConfirm: true,\n            allowOutsideClick: () => !Swal.isLoading()\n          }).then(descricao => {\n            if (descricao.isConfirmed) {\n              this.sendPonto(result.value, descricao.value);\n            } else {\n              return;\n            }\n          });\n        } else {\n          return;\n        }\n      });\n    },\n    async sendPonto(task, descricao) {\n      const auth = getAuth();\n      const user = auth.currentUser;\n      const db = getDatabase();\n      const pontoRef = ref(db, \"pontos\");\n      try {\n        let dataAtual = new Date();\n        let objetoDataHora = {\n          data: {\n            dia: dataAtual.getDate(),\n            mes: dataAtual.getMonth() + 1,\n            ano: dataAtual.getFullYear()\n          },\n          horaInicio: {\n            horas: dataAtual.getHours(),\n            minutos: dataAtual.getMinutes()\n          },\n          horaFim: {\n            horas: dataAtual.getHours(),\n            minutos: dataAtual.getMinutes()\n          },\n          tarefas: []\n        };\n        const novoRegistro = {\n          data: objetoDataHora,\n          tarefas: [{\n            tasknumber: task,\n            descricao: descricao,\n            horaInicio: {\n              horas: dataAtual.getHours(),\n              minutos: dataAtual.getMinutes()\n            },\n            horaFim: {\n              horas: dataAtual.getHours(),\n              minutos: dataAtual.getMinutes()\n            }\n          }]\n        };\n\n        // Adiciona um novo registro no Realtime Database\n        const novoRegistroRef = push(pontoRef);\n        await set(novoRegistroRef, {\n          ...novoRegistro,\n          userId: user.uid\n        });\n        console.log(\"Registro de ponto salvo com sucesso:\", novoRegistroRef.key);\n\n        // Atualiza a lista de registros na interface do usuário\n        this.registros.reverse();\n        this.registros.push({\n          ...novoRegistro,\n          id: novoRegistroRef.key\n        });\n        this.registros.reverse();\n      } catch (error) {\n        console.error(\"Erro ao marcar ponto:\", error.message);\n      }\n    },\n    async pararPonto(registroId, registro) {\n      const auth = getAuth();\n      const user = auth.currentUser;\n      const db = getDatabase();\n      const pontoRef = ref(db, `pontos/${registroId}`);\n      try {\n        if (registro.userId === user.uid) {\n          // Atualiza a propriedade horaFim para a data atual\n          let dataAtual = new Date();\n          registro.data.horaFim = {\n            horas: dataAtual.getHours(),\n            minutos: dataAtual.getMinutes()\n          };\n\n          // Atualiza o registro no Firebase\n          await set(pontoRef, registro);\n          console.log(\"Registro de ponto finalizado com sucesso:\", registroId);\n\n          // // Atualiza a lista de registros na interface do usuário\n          // const index = this.registros.findIndex((r) => r.id === registroId);\n          // this.$set(this.registros, index, { ...registro, id: registroId });\n        } else {\n          console.warn(\"O registro não pertence ao usuário atual.\");\n        }\n      } catch (error) {\n        console.error(\"Erro ao finalizar ponto:\", error.message);\n      }\n    },\n    adiconarTarefa(registroId, registro) {\n      let tarefaEmAndamento = false;\n      registro.tarefas.forEach(tarefa => {\n        console.log(tarefa);\n        if (!this.timeSpentTask(tarefa.horaInicio, tarefa.horaFim)) {\n          console.log(\"A tarefa \" + tarefa.descricao + \" não foi finalizada, finalizar antes de iniciar outra\");\n          tarefaEmAndamento = true;\n          Swal.fire({\n            title: \"a tarefa \" + tarefa.descricao + \" não foi finalizada, finalizar antes de iniciar outra\",\n            confirmButtonText: \"OK\"\n          });\n        }\n      });\n      if (!tarefaEmAndamento) {\n        Swal.fire({\n          title: \"Adicione o nome da tarefa que você vai iniciar\",\n          input: \"text\",\n          inputAttributes: {\n            autocapitalize: \"off\"\n          },\n          showCancelButton: true,\n          confirmButtonText: \"Salvar\",\n          showLoaderOnConfirm: true,\n          allowOutsideClick: () => !Swal.isLoading()\n        }).then(result => {\n          if (result.isConfirmed) {\n            this.sendTask(registroId, registro, result.value);\n          } else {\n            return;\n          }\n        });\n      }\n    },\n    async sendTask(registroId, registro, taskName) {\n      const auth = getAuth();\n      const user = auth.currentUser;\n      const db = getDatabase();\n      const pontoRef = ref(db, `pontos/${registroId}`);\n      console.log(taskName);\n      try {\n        console.log(taskName);\n        if (registro.userId === user.uid) {\n          // Atualiza a propriedade horaFim para a data atual\n          let dataAtual = new Date();\n          console.log(taskName);\n          const tarefa = {\n            descricao: taskName,\n            horaInicio: {\n              horas: dataAtual.getHours(),\n              minutos: dataAtual.getMinutes()\n            },\n            horaFim: {\n              horas: dataAtual.getHours(),\n              minutos: dataAtual.getMinutes()\n            }\n          };\n          console.log(registro.data);\n          registro.tarefas.push(tarefa);\n          // Atualiza o registro no Firebase\n          await set(pontoRef, registro);\n          console.log(\"Registro de ponto finalizado com sucesso:\", registroId);\n\n          // // Atualiza a lista de registros na interface do usuário\n          // const index = this.registros.findIndex((r) => r.id === registroId);\n          // this.$set(this.registros, index, { ...registro, id: registroId });\n        } else {\n          console.warn(\"O registro não pertence ao usuário atual.\");\n        }\n      } catch (error) {\n        console.error(\"Erro ao finalizar ponto:\", error.message);\n      }\n    },\n    async finalizarTarefa(registroId, registro, index) {\n      const auth = getAuth();\n      const user = auth.currentUser;\n      let dataAtual = new Date();\n      const db = getDatabase();\n      const pontoRef = ref(db, `pontos/${registroId}`);\n      try {\n        if (registro.userId === user.uid) {\n          console.log(registro.tarefas[index].horaFim);\n          registro.tarefas[index].horaFim = {\n            horas: dataAtual.getHours(),\n            minutos: dataAtual.getMinutes()\n          };\n\n          // Atualiza o registro no Firebase\n          await set(pontoRef, registro);\n          console.log(\"Registro de ponto finalizado com sucesso:\", registroId);\n\n          // // Atualiza a lista de registros na interface do usuário\n          // const index = this.registros.findIndex((r) => r.id === registroId);\n          // this.$set(this.registros, index, { ...registro, id: registroId });\n        } else {\n          console.warn(\"O registro não pertence ao usuário atual.\");\n        }\n      } catch (error) {\n        console.error(\"Erro ao finalizar ponto:\", error.message);\n      }\n    },\n    timeSpentTask(horaInicio, horaFim) {\n      let dataInicio = new Date();\n      dataInicio.setHours(horaInicio.horas);\n      dataInicio.setMinutes(horaInicio.minutos);\n      let dataFim = new Date();\n      dataFim.setHours(horaFim.horas);\n      dataFim.setMinutes(horaFim.minutos);\n\n      // Calculando a diferença em milissegundos\n      let diferencaEmMilissegundos = dataFim - dataInicio;\n\n      // Convertendo a diferença para minutos\n      let diferencaEmMinutos = diferencaEmMilissegundos / (1000 * 60);\n      if (!diferencaEmMinutos) {\n        return 0;\n      }\n      return this.dataFormat(diferencaEmMinutos);\n    },\n    dataFormat(minutos) {\n      let horas = Math.floor(minutos / 60);\n      let minutosRestantes = minutos % 60;\n\n      // Formata as horas e minutos com dois dígitos\n      let horasFormatadas = horas < 10 ? \"0\" + horas : horas;\n      let minutosFormatados = minutosRestantes < 10 ? \"0\" + minutosRestantes : minutosRestantes;\n      return horasFormatadas + \":\" + minutosFormatados;\n    },\n    async pausarPonto() {},\n    validarDataMaiorHoje(dia, mes, ano) {\n      const dataAtual = new Date();\n\n      // Obter o ano atual\n      const anoAtual = dataAtual.getFullYear();\n\n      // Obter o mês atual (lembre-se de que os meses em JavaScript começam do zero, então você pode precisar adicionar 1)\n      const mesAtual = dataAtual.getMonth() + 1;\n\n      // Obter o dia do mês atual\n      const diaAtual = dataAtual.getDate();\n      if (dia == diaAtual && mes == mesAtual && ano == anoAtual) {\n        return true;\n      }\n      return false;\n    }\n  },\n  async created() {\n    const db = getDatabase();\n    const pontoRef = ref(db, \"pontos\");\n\n    // Consulta os registros de ponto do usuário no Realtime Database\n    // Este exemplo apenas carrega os últimos 10 registros, você pode ajustar conforme necessário\n    const snapshot = await get(pontoRef, \"value\");\n    const registros = [];\n    if (snapshot.exists()) {\n      snapshot.forEach(childSnapshot => {\n        const key = childSnapshot.key;\n        const data = childSnapshot.val();\n        registros.push({\n          key,\n          ...data\n        });\n      });\n    }\n    this.registros = registros.reverse();\n  }\n};","map":{"version":3,"names":["getAuth","getDatabase","get","ref","push","set","Swal","data","registros","methods","iniciarPonto","fire","title","input","inputAttributes","autocapitalize","showCancelButton","confirmButtonText","showLoaderOnConfirm","allowOutsideClick","isLoading","then","result","isConfirmed","descricao","sendPonto","value","task","auth","user","currentUser","db","pontoRef","dataAtual","Date","objetoDataHora","dia","getDate","mes","getMonth","ano","getFullYear","horaInicio","horas","getHours","minutos","getMinutes","horaFim","tarefas","novoRegistro","tasknumber","novoRegistroRef","userId","uid","console","log","key","reverse","id","error","message","pararPonto","registroId","registro","warn","adiconarTarefa","tarefaEmAndamento","forEach","tarefa","timeSpentTask","sendTask","taskName","finalizarTarefa","index","dataInicio","setHours","setMinutes","dataFim","diferencaEmMilissegundos","diferencaEmMinutos","dataFormat","Math","floor","minutosRestantes","horasFormatadas","minutosFormatados","pausarPonto","validarDataMaiorHoje","anoAtual","mesAtual","diaAtual","created","snapshot","exists","childSnapshot","val"],"sources":["/home/alexandre/code/ponto-eletronico/src/components/ClockInClockOut.vue"],"sourcesContent":["<!-- PontoEletronico.vue -->\n<template>\n  <div style=\"margin: 0 auto\">\n    <h1>Marcação de Ponto Eletrônico</h1>\n    <button @click=\"iniciarPonto\">Iniciar Periodo</button>\n    <!-- <button @click=\"pararPonto\">Finalizar Dia</button>\n    <button @click=\"pausarPonto\">Pausar</button> -->\n    <div v-for=\"registro in registros\" :key=\"registro.userId\" class=\"col-md-10\">\n      <div class=\"card\">\n        <div class=\"card-body\">\n          <h5 class=\"card-title\">\n            Dia: {{ registro.data.data.dia }}/{{ registro.data.data.mes }}/{{\n              registro.data.data.ano\n            }}\n          </h5>\n          <br />\n          hora inicio: {{ registro.data.horaInicio.horas }}:{{\n            registro.data.horaInicio.minutos\n          }}\n          <br />\n          <template\n            v-if=\"\n              timeSpentTask(registro.data.horaInicio, registro.data.horaFim)\n            \"\n          >\n            Hora fim: {{ registro.data.horaFim.horas }}:{{\n              registro.data.horaFim.minutos\n            }}\n            <br />\n          </template>\n          Tempo gasto:\n          {{ timeSpentTask(registro.data.horaInicio, registro.data.horaFim) }}\n          <br />\n          <template\n            v-if=\"\n              !timeSpentTask(registro.data.horaInicio, registro.data.horaFim)\n            \"\n          >\n            <button @click=\"pararPonto(registro.key, registro)\">\n              Finalizar Periodo\n            </button>\n          </template>\n          <button\n            v-if=\"\n              validarDataMaiorHoje(\n                registro.data.data.dia,\n                registro.data.data.mes,\n                registro.data.data.ano\n              )\n            \"\n            @click=\"adiconarTarefa(registro.key, registro)\"\n          >\n            adiconar Tarefa\n          </button>\n          <div v-for=\"(tarefa, index) in registro.tarefas\" :key=\"tarefa\">\n            <template v-if=\"tarefa\">\n              <div class=\"col-md-10\">\n                <div class=\"card\">\n                  <div class=\"card-body\">\n                    {{ tarefa }}\n                    <h5 class=\"card-title\">{{ tarefa.descricao }}</h5>\n\n                    hora inicio: {{ tarefa.horaInicio.horas }}:{{\n                      tarefa.horaInicio.minutos\n                    }}\n                    <template\n                      v-if=\"timeSpentTask(tarefa.horaInicio, tarefa.horaFim)\"\n                    >\n                      Hora fim: {{ tarefa.horaFim.horas }}:{{\n                        tarefa.horaFim.minutos\n                      }}\n                      <br />\n                    </template>\n\n                    Tempo gasto:\n                    {{ timeSpentTask(tarefa.horaInicio, tarefa.horaFim) }}\n                    <template\n                      v-if=\"!timeSpentTask(tarefa.horaInicio, tarefa.horaFim)\"\n                    >\n                      <button\n                        @click=\"finalizarTarefa(registro.key, registro, index)\"\n                      >\n                        Finalizar Tarefa\n                      </button>\n                      <br />\n                    </template>\n                  </div>\n                </div>\n              </div>\n            </template>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { getAuth } from \"firebase/auth\";\nimport { getDatabase, get, ref, push, set } from \"firebase/database\";\nimport Swal from \"sweetalert2\";\n\nexport default {\n  data() {\n    return {\n      registros: [],\n    };\n  },\n  methods: {\n    iniciarPonto() {\n      Swal.fire({\n        title: \"Adicione o numero da tarefa que você vai iniciar\",\n        input: \"text\",\n        inputAttributes: {\n          autocapitalize: \"off\",\n        },\n        showCancelButton: true,\n        confirmButtonText: \"Salvar\",\n        showLoaderOnConfirm: true,\n        allowOutsideClick: () => !Swal.isLoading(),\n      }).then((result) => {\n        if (result.isConfirmed) {\n          Swal.fire({\n            title: \"Adicione a descrição\",\n            input: \"text\",\n            inputAttributes: {\n              autocapitalize: \"off\",\n            },\n            showCancelButton: true,\n            confirmButtonText: \"Salvar\",\n            showLoaderOnConfirm: true,\n            allowOutsideClick: () => !Swal.isLoading(),\n          }).then((descricao) => {\n            if (descricao.isConfirmed) {\n              this.sendPonto(result.value, descricao.value);\n            } else {\n              return;\n            }\n          });\n        } else {\n          return;\n        }\n      });\n    },\n    async sendPonto(task, descricao) {\n      const auth = getAuth();\n      const user = auth.currentUser;\n\n      const db = getDatabase();\n      const pontoRef = ref(db, \"pontos\");\n\n      try {\n        let dataAtual = new Date();\n        let objetoDataHora = {\n          data: {\n            dia: dataAtual.getDate(),\n            mes: dataAtual.getMonth() + 1,\n            ano: dataAtual.getFullYear(),\n          },\n          horaInicio: {\n            horas: dataAtual.getHours(),\n            minutos: dataAtual.getMinutes(),\n          },\n          horaFim: {\n            horas: dataAtual.getHours(),\n            minutos: dataAtual.getMinutes(),\n          },\n          tarefas: [],\n        };\n\n        const novoRegistro = {\n          data: objetoDataHora,\n          tarefas: [\n            {\n              tasknumber: task,\n              descricao: descricao,\n              horaInicio: {\n                horas: dataAtual.getHours(),\n                minutos: dataAtual.getMinutes(),\n              },\n              horaFim: {\n                horas: dataAtual.getHours(),\n                minutos: dataAtual.getMinutes(),\n              },\n            },\n          ],\n        };\n\n        // Adiciona um novo registro no Realtime Database\n        const novoRegistroRef = push(pontoRef);\n        await set(novoRegistroRef, {\n          ...novoRegistro,\n          userId: user.uid,\n        });\n\n        console.log(\n          \"Registro de ponto salvo com sucesso:\",\n          novoRegistroRef.key\n        );\n\n        // Atualiza a lista de registros na interface do usuário\n        this.registros.reverse();\n        this.registros.push({ ...novoRegistro, id: novoRegistroRef.key });\n        this.registros.reverse();\n      } catch (error) {\n        console.error(\"Erro ao marcar ponto:\", error.message);\n      }\n    },\n    async pararPonto(registroId, registro) {\n      const auth = getAuth();\n      const user = auth.currentUser;\n\n      const db = getDatabase();\n      const pontoRef = ref(db, `pontos/${registroId}`);\n\n      try {\n        if (registro.userId === user.uid) {\n          // Atualiza a propriedade horaFim para a data atual\n          let dataAtual = new Date();\n          registro.data.horaFim = {\n            horas: dataAtual.getHours(),\n            minutos: dataAtual.getMinutes(),\n          };\n\n          // Atualiza o registro no Firebase\n          await set(pontoRef, registro);\n\n          console.log(\"Registro de ponto finalizado com sucesso:\", registroId);\n\n          // // Atualiza a lista de registros na interface do usuário\n          // const index = this.registros.findIndex((r) => r.id === registroId);\n          // this.$set(this.registros, index, { ...registro, id: registroId });\n        } else {\n          console.warn(\"O registro não pertence ao usuário atual.\");\n        }\n      } catch (error) {\n        console.error(\"Erro ao finalizar ponto:\", error.message);\n      }\n    },\n    adiconarTarefa(registroId, registro) {\n      let tarefaEmAndamento = false;\n      registro.tarefas.forEach((tarefa) => {\n        console.log(tarefa);\n        if (!this.timeSpentTask(tarefa.horaInicio, tarefa.horaFim)) {\n          console.log(\n            \"A tarefa \" +\n              tarefa.descricao +\n              \" não foi finalizada, finalizar antes de iniciar outra\"\n          );\n          tarefaEmAndamento = true;\n          Swal.fire({\n            title:\n              \"a tarefa \" +\n              tarefa.descricao +\n              \" não foi finalizada, finalizar antes de iniciar outra\",\n            confirmButtonText: \"OK\",\n          });\n        }\n      });\n      if (!tarefaEmAndamento) {\n        Swal.fire({\n          title: \"Adicione o nome da tarefa que você vai iniciar\",\n          input: \"text\",\n          inputAttributes: {\n            autocapitalize: \"off\",\n          },\n          showCancelButton: true,\n          confirmButtonText: \"Salvar\",\n          showLoaderOnConfirm: true,\n          allowOutsideClick: () => !Swal.isLoading(),\n        }).then((result) => {\n          if (result.isConfirmed) {\n            this.sendTask(registroId, registro, result.value);\n          } else {\n            return;\n          }\n        });\n      }\n    },\n    async sendTask(registroId, registro, taskName) {\n      const auth = getAuth();\n      const user = auth.currentUser;\n\n      const db = getDatabase();\n      const pontoRef = ref(db, `pontos/${registroId}`);\n      console.log(taskName);\n      try {\n        console.log(taskName);\n        if (registro.userId === user.uid) {\n          // Atualiza a propriedade horaFim para a data atual\n          let dataAtual = new Date();\n          console.log(taskName);\n          const tarefa = {\n            descricao: taskName,\n            horaInicio: {\n              horas: dataAtual.getHours(),\n              minutos: dataAtual.getMinutes(),\n            },\n            horaFim: {\n              horas: dataAtual.getHours(),\n              minutos: dataAtual.getMinutes(),\n            },\n          };\n          console.log(registro.data);\n          registro.tarefas.push(tarefa);\n          // Atualiza o registro no Firebase\n          await set(pontoRef, registro);\n\n          console.log(\"Registro de ponto finalizado com sucesso:\", registroId);\n\n          // // Atualiza a lista de registros na interface do usuário\n          // const index = this.registros.findIndex((r) => r.id === registroId);\n          // this.$set(this.registros, index, { ...registro, id: registroId });\n        } else {\n          console.warn(\"O registro não pertence ao usuário atual.\");\n        }\n      } catch (error) {\n        console.error(\"Erro ao finalizar ponto:\", error.message);\n      }\n    },\n    async finalizarTarefa(registroId, registro, index) {\n      const auth = getAuth();\n      const user = auth.currentUser;\n      let dataAtual = new Date();\n\n      const db = getDatabase();\n      const pontoRef = ref(db, `pontos/${registroId}`);\n\n      try {\n        if (registro.userId === user.uid) {\n          console.log(registro.tarefas[index].horaFim);\n          registro.tarefas[index].horaFim = {\n            horas: dataAtual.getHours(),\n            minutos: dataAtual.getMinutes(),\n          };\n\n          // Atualiza o registro no Firebase\n          await set(pontoRef, registro);\n\n          console.log(\"Registro de ponto finalizado com sucesso:\", registroId);\n\n          // // Atualiza a lista de registros na interface do usuário\n          // const index = this.registros.findIndex((r) => r.id === registroId);\n          // this.$set(this.registros, index, { ...registro, id: registroId });\n        } else {\n          console.warn(\"O registro não pertence ao usuário atual.\");\n        }\n      } catch (error) {\n        console.error(\"Erro ao finalizar ponto:\", error.message);\n      }\n    },\n    timeSpentTask(horaInicio, horaFim) {\n      let dataInicio = new Date();\n      dataInicio.setHours(horaInicio.horas);\n      dataInicio.setMinutes(horaInicio.minutos);\n\n      let dataFim = new Date();\n      dataFim.setHours(horaFim.horas);\n      dataFim.setMinutes(horaFim.minutos);\n\n      // Calculando a diferença em milissegundos\n      let diferencaEmMilissegundos = dataFim - dataInicio;\n\n      // Convertendo a diferença para minutos\n      let diferencaEmMinutos = diferencaEmMilissegundos / (1000 * 60);\n      if (!diferencaEmMinutos) {\n        return 0;\n      }\n      return this.dataFormat(diferencaEmMinutos);\n    },\n    dataFormat(minutos) {\n      let horas = Math.floor(minutos / 60);\n      let minutosRestantes = minutos % 60;\n\n      // Formata as horas e minutos com dois dígitos\n      let horasFormatadas = horas < 10 ? \"0\" + horas : horas;\n      let minutosFormatados =\n        minutosRestantes < 10 ? \"0\" + minutosRestantes : minutosRestantes;\n\n      return horasFormatadas + \":\" + minutosFormatados;\n    },\n    async pausarPonto() {},\n    validarDataMaiorHoje(dia, mes, ano) {\n      const dataAtual = new Date();\n\n      // Obter o ano atual\n      const anoAtual = dataAtual.getFullYear();\n\n      // Obter o mês atual (lembre-se de que os meses em JavaScript começam do zero, então você pode precisar adicionar 1)\n      const mesAtual = dataAtual.getMonth() + 1;\n\n      // Obter o dia do mês atual\n      const diaAtual = dataAtual.getDate();\n      if (dia == diaAtual && mes == mesAtual && ano == anoAtual) {\n        return true;\n      }\n      return false;\n    },\n  },\n\n  async created() {\n    const db = getDatabase();\n    const pontoRef = ref(db, \"pontos\");\n\n    // Consulta os registros de ponto do usuário no Realtime Database\n    // Este exemplo apenas carrega os últimos 10 registros, você pode ajustar conforme necessário\n    const snapshot = await get(pontoRef, \"value\");\n    const registros = [];\n\n    if (snapshot.exists()) {\n      snapshot.forEach((childSnapshot) => {\n        const key = childSnapshot.key;\n        const data = childSnapshot.val();\n        registros.push({ key, ...data });\n      });\n    }\n\n    this.registros = registros.reverse();\n  },\n};\n</script>\n"],"mappings":";AAkGA,SAASA,OAAM,QAAS,eAAe;AACvC,SAASC,WAAW,EAAEC,GAAG,EAAEC,GAAG,EAAEC,IAAI,EAAEC,GAAE,QAAS,mBAAmB;AACpE,OAAOC,IAAG,MAAO,aAAa;AAE9B,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,SAAS,EAAE;IACb,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,YAAYA,CAAA,EAAG;MACbJ,IAAI,CAACK,IAAI,CAAC;QACRC,KAAK,EAAE,kDAAkD;QACzDC,KAAK,EAAE,MAAM;QACbC,eAAe,EAAE;UACfC,cAAc,EAAE;QAClB,CAAC;QACDC,gBAAgB,EAAE,IAAI;QACtBC,iBAAiB,EAAE,QAAQ;QAC3BC,mBAAmB,EAAE,IAAI;QACzBC,iBAAiB,EAAEA,CAAA,KAAM,CAACb,IAAI,CAACc,SAAS,CAAC;MAC3C,CAAC,CAAC,CAACC,IAAI,CAAEC,MAAM,IAAK;QAClB,IAAIA,MAAM,CAACC,WAAW,EAAE;UACtBjB,IAAI,CAACK,IAAI,CAAC;YACRC,KAAK,EAAE,sBAAsB;YAC7BC,KAAK,EAAE,MAAM;YACbC,eAAe,EAAE;cACfC,cAAc,EAAE;YAClB,CAAC;YACDC,gBAAgB,EAAE,IAAI;YACtBC,iBAAiB,EAAE,QAAQ;YAC3BC,mBAAmB,EAAE,IAAI;YACzBC,iBAAiB,EAAEA,CAAA,KAAM,CAACb,IAAI,CAACc,SAAS,CAAC;UAC3C,CAAC,CAAC,CAACC,IAAI,CAAEG,SAAS,IAAK;YACrB,IAAIA,SAAS,CAACD,WAAW,EAAE;cACzB,IAAI,CAACE,SAAS,CAACH,MAAM,CAACI,KAAK,EAAEF,SAAS,CAACE,KAAK,CAAC;YAC/C,OAAO;cACL;YACF;UACF,CAAC,CAAC;QACJ,OAAO;UACL;QACF;MACF,CAAC,CAAC;IACJ,CAAC;IACD,MAAMD,SAASA,CAACE,IAAI,EAAEH,SAAS,EAAE;MAC/B,MAAMI,IAAG,GAAI5B,OAAO,CAAC,CAAC;MACtB,MAAM6B,IAAG,GAAID,IAAI,CAACE,WAAW;MAE7B,MAAMC,EAAC,GAAI9B,WAAW,CAAC,CAAC;MACxB,MAAM+B,QAAO,GAAI7B,GAAG,CAAC4B,EAAE,EAAE,QAAQ,CAAC;MAElC,IAAI;QACF,IAAIE,SAAQ,GAAI,IAAIC,IAAI,CAAC,CAAC;QAC1B,IAAIC,cAAa,GAAI;UACnB5B,IAAI,EAAE;YACJ6B,GAAG,EAAEH,SAAS,CAACI,OAAO,CAAC,CAAC;YACxBC,GAAG,EAAEL,SAAS,CAACM,QAAQ,CAAC,IAAI,CAAC;YAC7BC,GAAG,EAAEP,SAAS,CAACQ,WAAW,CAAC;UAC7B,CAAC;UACDC,UAAU,EAAE;YACVC,KAAK,EAAEV,SAAS,CAACW,QAAQ,CAAC,CAAC;YAC3BC,OAAO,EAAEZ,SAAS,CAACa,UAAU,CAAC;UAChC,CAAC;UACDC,OAAO,EAAE;YACPJ,KAAK,EAAEV,SAAS,CAACW,QAAQ,CAAC,CAAC;YAC3BC,OAAO,EAAEZ,SAAS,CAACa,UAAU,CAAC;UAChC,CAAC;UACDE,OAAO,EAAE;QACX,CAAC;QAED,MAAMC,YAAW,GAAI;UACnB1C,IAAI,EAAE4B,cAAc;UACpBa,OAAO,EAAE,CACP;YACEE,UAAU,EAAEvB,IAAI;YAChBH,SAAS,EAAEA,SAAS;YACpBkB,UAAU,EAAE;cACVC,KAAK,EAAEV,SAAS,CAACW,QAAQ,CAAC,CAAC;cAC3BC,OAAO,EAAEZ,SAAS,CAACa,UAAU,CAAC;YAChC,CAAC;YACDC,OAAO,EAAE;cACPJ,KAAK,EAAEV,SAAS,CAACW,QAAQ,CAAC,CAAC;cAC3BC,OAAO,EAAEZ,SAAS,CAACa,UAAU,CAAC;YAChC;UACF,CAAC;QAEL,CAAC;;QAED;QACA,MAAMK,eAAc,GAAI/C,IAAI,CAAC4B,QAAQ,CAAC;QACtC,MAAM3B,GAAG,CAAC8C,eAAe,EAAE;UACzB,GAAGF,YAAY;UACfG,MAAM,EAAEvB,IAAI,CAACwB;QACf,CAAC,CAAC;QAEFC,OAAO,CAACC,GAAG,CACT,sCAAsC,EACtCJ,eAAe,CAACK,GAClB,CAAC;;QAED;QACA,IAAI,CAAChD,SAAS,CAACiD,OAAO,CAAC,CAAC;QACxB,IAAI,CAACjD,SAAS,CAACJ,IAAI,CAAC;UAAE,GAAG6C,YAAY;UAAES,EAAE,EAAEP,eAAe,CAACK;QAAI,CAAC,CAAC;QACjE,IAAI,CAAChD,SAAS,CAACiD,OAAO,CAAC,CAAC;MAC1B,EAAE,OAAOE,KAAK,EAAE;QACdL,OAAO,CAACK,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAACC,OAAO,CAAC;MACvD;IACF,CAAC;IACD,MAAMC,UAAUA,CAACC,UAAU,EAAEC,QAAQ,EAAE;MACrC,MAAMnC,IAAG,GAAI5B,OAAO,CAAC,CAAC;MACtB,MAAM6B,IAAG,GAAID,IAAI,CAACE,WAAW;MAE7B,MAAMC,EAAC,GAAI9B,WAAW,CAAC,CAAC;MACxB,MAAM+B,QAAO,GAAI7B,GAAG,CAAC4B,EAAE,EAAG,UAAS+B,UAAW,EAAC,CAAC;MAEhD,IAAI;QACF,IAAIC,QAAQ,CAACX,MAAK,KAAMvB,IAAI,CAACwB,GAAG,EAAE;UAChC;UACA,IAAIpB,SAAQ,GAAI,IAAIC,IAAI,CAAC,CAAC;UAC1B6B,QAAQ,CAACxD,IAAI,CAACwC,OAAM,GAAI;YACtBJ,KAAK,EAAEV,SAAS,CAACW,QAAQ,CAAC,CAAC;YAC3BC,OAAO,EAAEZ,SAAS,CAACa,UAAU,CAAC;UAChC,CAAC;;UAED;UACA,MAAMzC,GAAG,CAAC2B,QAAQ,EAAE+B,QAAQ,CAAC;UAE7BT,OAAO,CAACC,GAAG,CAAC,2CAA2C,EAAEO,UAAU,CAAC;;UAEpE;UACA;UACA;QACF,OAAO;UACLR,OAAO,CAACU,IAAI,CAAC,2CAA2C,CAAC;QAC3D;MACF,EAAE,OAAOL,KAAK,EAAE;QACdL,OAAO,CAACK,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAACC,OAAO,CAAC;MAC1D;IACF,CAAC;IACDK,cAAcA,CAACH,UAAU,EAAEC,QAAQ,EAAE;MACnC,IAAIG,iBAAgB,GAAI,KAAK;MAC7BH,QAAQ,CAACf,OAAO,CAACmB,OAAO,CAAEC,MAAM,IAAK;QACnCd,OAAO,CAACC,GAAG,CAACa,MAAM,CAAC;QACnB,IAAI,CAAC,IAAI,CAACC,aAAa,CAACD,MAAM,CAAC1B,UAAU,EAAE0B,MAAM,CAACrB,OAAO,CAAC,EAAE;UAC1DO,OAAO,CAACC,GAAG,CACT,WAAU,GACRa,MAAM,CAAC5C,SAAQ,GACf,uDACJ,CAAC;UACD0C,iBAAgB,GAAI,IAAI;UACxB5D,IAAI,CAACK,IAAI,CAAC;YACRC,KAAK,EACH,WAAU,GACVwD,MAAM,CAAC5C,SAAQ,GACf,uDAAuD;YACzDP,iBAAiB,EAAE;UACrB,CAAC,CAAC;QACJ;MACF,CAAC,CAAC;MACF,IAAI,CAACiD,iBAAiB,EAAE;QACtB5D,IAAI,CAACK,IAAI,CAAC;UACRC,KAAK,EAAE,gDAAgD;UACvDC,KAAK,EAAE,MAAM;UACbC,eAAe,EAAE;YACfC,cAAc,EAAE;UAClB,CAAC;UACDC,gBAAgB,EAAE,IAAI;UACtBC,iBAAiB,EAAE,QAAQ;UAC3BC,mBAAmB,EAAE,IAAI;UACzBC,iBAAiB,EAAEA,CAAA,KAAM,CAACb,IAAI,CAACc,SAAS,CAAC;QAC3C,CAAC,CAAC,CAACC,IAAI,CAAEC,MAAM,IAAK;UAClB,IAAIA,MAAM,CAACC,WAAW,EAAE;YACtB,IAAI,CAAC+C,QAAQ,CAACR,UAAU,EAAEC,QAAQ,EAAEzC,MAAM,CAACI,KAAK,CAAC;UACnD,OAAO;YACL;UACF;QACF,CAAC,CAAC;MACJ;IACF,CAAC;IACD,MAAM4C,QAAQA,CAACR,UAAU,EAAEC,QAAQ,EAAEQ,QAAQ,EAAE;MAC7C,MAAM3C,IAAG,GAAI5B,OAAO,CAAC,CAAC;MACtB,MAAM6B,IAAG,GAAID,IAAI,CAACE,WAAW;MAE7B,MAAMC,EAAC,GAAI9B,WAAW,CAAC,CAAC;MACxB,MAAM+B,QAAO,GAAI7B,GAAG,CAAC4B,EAAE,EAAG,UAAS+B,UAAW,EAAC,CAAC;MAChDR,OAAO,CAACC,GAAG,CAACgB,QAAQ,CAAC;MACrB,IAAI;QACFjB,OAAO,CAACC,GAAG,CAACgB,QAAQ,CAAC;QACrB,IAAIR,QAAQ,CAACX,MAAK,KAAMvB,IAAI,CAACwB,GAAG,EAAE;UAChC;UACA,IAAIpB,SAAQ,GAAI,IAAIC,IAAI,CAAC,CAAC;UAC1BoB,OAAO,CAACC,GAAG,CAACgB,QAAQ,CAAC;UACrB,MAAMH,MAAK,GAAI;YACb5C,SAAS,EAAE+C,QAAQ;YACnB7B,UAAU,EAAE;cACVC,KAAK,EAAEV,SAAS,CAACW,QAAQ,CAAC,CAAC;cAC3BC,OAAO,EAAEZ,SAAS,CAACa,UAAU,CAAC;YAChC,CAAC;YACDC,OAAO,EAAE;cACPJ,KAAK,EAAEV,SAAS,CAACW,QAAQ,CAAC,CAAC;cAC3BC,OAAO,EAAEZ,SAAS,CAACa,UAAU,CAAC;YAChC;UACF,CAAC;UACDQ,OAAO,CAACC,GAAG,CAACQ,QAAQ,CAACxD,IAAI,CAAC;UAC1BwD,QAAQ,CAACf,OAAO,CAAC5C,IAAI,CAACgE,MAAM,CAAC;UAC7B;UACA,MAAM/D,GAAG,CAAC2B,QAAQ,EAAE+B,QAAQ,CAAC;UAE7BT,OAAO,CAACC,GAAG,CAAC,2CAA2C,EAAEO,UAAU,CAAC;;UAEpE;UACA;UACA;QACF,OAAO;UACLR,OAAO,CAACU,IAAI,CAAC,2CAA2C,CAAC;QAC3D;MACF,EAAE,OAAOL,KAAK,EAAE;QACdL,OAAO,CAACK,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAACC,OAAO,CAAC;MAC1D;IACF,CAAC;IACD,MAAMY,eAAeA,CAACV,UAAU,EAAEC,QAAQ,EAAEU,KAAK,EAAE;MACjD,MAAM7C,IAAG,GAAI5B,OAAO,CAAC,CAAC;MACtB,MAAM6B,IAAG,GAAID,IAAI,CAACE,WAAW;MAC7B,IAAIG,SAAQ,GAAI,IAAIC,IAAI,CAAC,CAAC;MAE1B,MAAMH,EAAC,GAAI9B,WAAW,CAAC,CAAC;MACxB,MAAM+B,QAAO,GAAI7B,GAAG,CAAC4B,EAAE,EAAG,UAAS+B,UAAW,EAAC,CAAC;MAEhD,IAAI;QACF,IAAIC,QAAQ,CAACX,MAAK,KAAMvB,IAAI,CAACwB,GAAG,EAAE;UAChCC,OAAO,CAACC,GAAG,CAACQ,QAAQ,CAACf,OAAO,CAACyB,KAAK,CAAC,CAAC1B,OAAO,CAAC;UAC5CgB,QAAQ,CAACf,OAAO,CAACyB,KAAK,CAAC,CAAC1B,OAAM,GAAI;YAChCJ,KAAK,EAAEV,SAAS,CAACW,QAAQ,CAAC,CAAC;YAC3BC,OAAO,EAAEZ,SAAS,CAACa,UAAU,CAAC;UAChC,CAAC;;UAED;UACA,MAAMzC,GAAG,CAAC2B,QAAQ,EAAE+B,QAAQ,CAAC;UAE7BT,OAAO,CAACC,GAAG,CAAC,2CAA2C,EAAEO,UAAU,CAAC;;UAEpE;UACA;UACA;QACF,OAAO;UACLR,OAAO,CAACU,IAAI,CAAC,2CAA2C,CAAC;QAC3D;MACF,EAAE,OAAOL,KAAK,EAAE;QACdL,OAAO,CAACK,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAACC,OAAO,CAAC;MAC1D;IACF,CAAC;IACDS,aAAaA,CAAC3B,UAAU,EAAEK,OAAO,EAAE;MACjC,IAAI2B,UAAS,GAAI,IAAIxC,IAAI,CAAC,CAAC;MAC3BwC,UAAU,CAACC,QAAQ,CAACjC,UAAU,CAACC,KAAK,CAAC;MACrC+B,UAAU,CAACE,UAAU,CAAClC,UAAU,CAACG,OAAO,CAAC;MAEzC,IAAIgC,OAAM,GAAI,IAAI3C,IAAI,CAAC,CAAC;MACxB2C,OAAO,CAACF,QAAQ,CAAC5B,OAAO,CAACJ,KAAK,CAAC;MAC/BkC,OAAO,CAACD,UAAU,CAAC7B,OAAO,CAACF,OAAO,CAAC;;MAEnC;MACA,IAAIiC,wBAAuB,GAAID,OAAM,GAAIH,UAAU;;MAEnD;MACA,IAAIK,kBAAiB,GAAID,wBAAuB,IAAK,IAAG,GAAI,EAAE,CAAC;MAC/D,IAAI,CAACC,kBAAkB,EAAE;QACvB,OAAO,CAAC;MACV;MACA,OAAO,IAAI,CAACC,UAAU,CAACD,kBAAkB,CAAC;IAC5C,CAAC;IACDC,UAAUA,CAACnC,OAAO,EAAE;MAClB,IAAIF,KAAI,GAAIsC,IAAI,CAACC,KAAK,CAACrC,OAAM,GAAI,EAAE,CAAC;MACpC,IAAIsC,gBAAe,GAAItC,OAAM,GAAI,EAAE;;MAEnC;MACA,IAAIuC,eAAc,GAAIzC,KAAI,GAAI,EAAC,GAAI,GAAE,GAAIA,KAAI,GAAIA,KAAK;MACtD,IAAI0C,iBAAgB,GAClBF,gBAAe,GAAI,EAAC,GAAI,GAAE,GAAIA,gBAAe,GAAIA,gBAAgB;MAEnE,OAAOC,eAAc,GAAI,GAAE,GAAIC,iBAAiB;IAClD,CAAC;IACD,MAAMC,WAAWA,CAAA,EAAG,CAAC,CAAC;IACtBC,oBAAoBA,CAACnD,GAAG,EAAEE,GAAG,EAAEE,GAAG,EAAE;MAClC,MAAMP,SAAQ,GAAI,IAAIC,IAAI,CAAC,CAAC;;MAE5B;MACA,MAAMsD,QAAO,GAAIvD,SAAS,CAACQ,WAAW,CAAC,CAAC;;MAExC;MACA,MAAMgD,QAAO,GAAIxD,SAAS,CAACM,QAAQ,CAAC,IAAI,CAAC;;MAEzC;MACA,MAAMmD,QAAO,GAAIzD,SAAS,CAACI,OAAO,CAAC,CAAC;MACpC,IAAID,GAAE,IAAKsD,QAAO,IAAKpD,GAAE,IAAKmD,QAAO,IAAKjD,GAAE,IAAKgD,QAAQ,EAAE;QACzD,OAAO,IAAI;MACb;MACA,OAAO,KAAK;IACd;EACF,CAAC;EAED,MAAMG,OAAOA,CAAA,EAAG;IACd,MAAM5D,EAAC,GAAI9B,WAAW,CAAC,CAAC;IACxB,MAAM+B,QAAO,GAAI7B,GAAG,CAAC4B,EAAE,EAAE,QAAQ,CAAC;;IAElC;IACA;IACA,MAAM6D,QAAO,GAAI,MAAM1F,GAAG,CAAC8B,QAAQ,EAAE,OAAO,CAAC;IAC7C,MAAMxB,SAAQ,GAAI,EAAE;IAEpB,IAAIoF,QAAQ,CAACC,MAAM,CAAC,CAAC,EAAE;MACrBD,QAAQ,CAACzB,OAAO,CAAE2B,aAAa,IAAK;QAClC,MAAMtC,GAAE,GAAIsC,aAAa,CAACtC,GAAG;QAC7B,MAAMjD,IAAG,GAAIuF,aAAa,CAACC,GAAG,CAAC,CAAC;QAChCvF,SAAS,CAACJ,IAAI,CAAC;UAAEoD,GAAG;UAAE,GAAGjD;QAAK,CAAC,CAAC;MAClC,CAAC,CAAC;IACJ;IAEA,IAAI,CAACC,SAAQ,GAAIA,SAAS,CAACiD,OAAO,CAAC,CAAC;EACtC;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}